<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MimFlix - মনোরঞ্জন প্ল্যাটফর্ম | Entertainment Platform</title>
    <link rel="icon" href="./logo.svg" type="image/svg+xml">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-router-dom/5.2.0/react-router-dom.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { BrowserRouter, Switch, Route, Link, useParams, useLocation } = ReactRouterDOM;

        // Multilingual Content
        const LANG = {
            bn: {
                home: 'হোম',
                movies: 'সিনেমা',
                blogs: 'ব্লগ',
                iptv: 'আইপিটিভি',
                welcome: 'মিমফ্লিক্সে স্বাগতম',
                description: 'আপনার সেরা মনোরঞ্জন গন্তব্য',
            },
            en: {
                home: 'Home',
                movies: 'Movies',
                blogs: 'Blogs',
                iptv: 'IPTV',
                welcome: 'Welcome to MimFlix',
                description: 'Your ultimate entertainment destination',
            }
        };

        // Mock Data with Advanced Categorization
        const CONTENT_DATA = {
            blogs: [
                {
                    id: 1,
                    title: 'Future of Streaming',
                    category: 'Technology',
                    language: ['en', 'bn'],
                    content: 'Exploring the next generation of digital entertainment...',
                    author: 'Tech Insider',
                    date: '2024-01-15',
                    tags: ['streaming', 'technology', 'future']
                },
                {
                    id: 2,
                    title: 'সিনেমার বিবর্তন',
                    category: 'Cinema',
                    language: ['bn'],
                    content: 'বাংলা সিনেমার ইতিহাস ও বর্তমান...',
                    author: 'সিনেমা পত্রিকা',
                    date: '2024-02-20',
                    tags: ['সিনেমা', 'বাংলা', 'ইতিহাস']
                }
            ],
            movies: [
                {
                    id: 1,
                    title: 'Digital Dreams',
                    genre: 'Sci-Fi',
                    language: ['en'],
                    rating: 4.5,
                    poster: '/images/digital-dreams.jpg'
                },
                {
                    id: 2,
                    title: 'আমার ভুল',
                    genre: 'Drama',
                    language: ['bn'],
                    rating: 4.7,
                    poster: '/images/amar-bhul.jpg'
                }
            ]
        };

        // Color Palette
        const COLORS = {
            primary: '#4a148c',
            secondary: '#ff4081',
            background: '#121212',
            text: '#ffffff',
            accent: '#7c4dff',
        };

        // Detailed Blog Component
        const BlogDetail = () => {
            const { blogId } = useParams();
            const blog = CONTENT_DATA.blogs.find(b => b.id === parseInt(blogId));

            if (!blog) return <div>Blog Not Found</div>;

            return (
                <div className="blog-detail container mt-4">
                    <h1>{blog.title}</h1>
                    <div className="blog-meta">
                        <span>Author: {blog.author}</span>
                        <span>Date: {blog.date}</span>
                        <span>Category: {blog.category}</span>
                    </div>
                    <div className="blog-content mt-3">
                        {blog.content}
                    </div>
                    <div className="blog-tags mt-3">
                        {blog.tags.map(tag => (
                            <span key={tag} className="badge bg-secondary me-2">{tag}</span>
                        ))}
                    </div>
                </div>
            );
        };

        // Blogs Page with Advanced Filtering
        const BlogsPage = () => {
            const [selectedCategory, setSelectedCategory] = React.useState(null);
            const [selectedLanguage, setSelectedLanguage] = React.useState(null);

            const filteredBlogs = CONTENT_DATA.blogs.filter(blog => 
                (!selectedCategory || blog.category === selectedCategory) &&
                (!selectedLanguage || blog.language.includes(selectedLanguage))
            );

            const categories = [...new Set(CONTENT_DATA.blogs.map(blog => blog.category))];
            const languages = [...new Set(CONTENT_DATA.blogs.flatMap(blog => blog.language))];

            return (
                <div className="blogs-page container mt-4">
                    <h1>Blogs</h1>
                    
                    <div className="filter-section mb-4">
                        <select 
                            className="form-select me-2" 
                            onChange={(e) => setSelectedCategory(e.target.value || null)}
                        >
                            <option value="">All Categories</option>
                            {categories.map(category => (
                                <option key={category} value={category}>{category}</option>
                            ))}
                        </select>

                        <select 
                            className="form-select" 
                            onChange={(e) => setSelectedLanguage(e.target.value || null)}
                        >
                            <option value="">All Languages</option>
                            {languages.map(lang => (
                                <option key={lang} value={lang}>{lang.toUpperCase()}</option>
                            ))}
                        </select>
                    </div>

                    <div className="blogs-list">
                        {filteredBlogs.map(blog => (
                            <div key={blog.id} className="card mb-3">
                                <div className="card-body">
                                    <Link 
                                        to={`/blogs/${blog.id}`} 
                                        className="blog-link"
                                    >
                                        <h5 className="card-title">{blog.title}</h5>
                                    </Link>
                                    <p className="card-text">{blog.content.slice(0, 100)}...</p>
                                    <div className="blog-meta">
                                        <span className="badge bg-secondary me-2">{blog.category}</span>
                                        {blog.language.map(lang => (
                                            <span key={lang} className="badge bg-info me-2">{lang}</span>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        // Main App Component with Advanced Navigation
        const App = () => {
            const [language, setLanguage] = React.useState('en');
            const location = useLocation();

            const toggleLanguage = () => {
                setLanguage(language === 'en' ? 'bn' : 'en');
            };

            const currentLang = LANG[language];

            // Generate shareable direct link
            const generateShareableLink = () => {
                return `https://mimflix.com${location.pathname}`;
            };

            return (
                <div className="app-container" style={{ backgroundColor: COLORS.background }}>
                    {/* Navbar */}
                    <nav className="navbar navbar-expand-lg navbar-dark" style={{ backgroundColor: COLORS.primary }}>
                        <div className="container-fluid">
                            <Link className="navbar-brand" to="/">
                                <img src="./logo.svg" alt="MimFlix Logo" style={{ height: '40px' }} />
                                MimFlix
                            </Link>
                            
                            <div className="navbar-nav">
                                <Link className="nav-link" to="/">{currentLang.home}</Link>
                                <Link className="nav-link" to="/movies">{currentLang.movies}</Link>
                                <Link className="nav-link" to="/blogs">{currentLang.blogs}</Link>
                                <Link className="nav-link" to="/iptv">{currentLang.iptv}</Link>
                            </div>

                            <div className="navbar-actions">
                                <button 
                                    className="btn btn-outline-light me-2"
                                    onClick={toggleLanguage}
                                >
                                    {language === 'en' ? 'বাংলা' : 'English'}
                                </button>
                                <button 
                                    className="btn btn-outline-light"
                                    onClick={() => navigator.clipboard.writeText(generateShareableLink())}
                                >
                                    Share Link
                                </button>
                            </div>
                        </div>
                    </nav>

                    {/* Content Area */}
                    <div className="content-section">
                        <Switch>
                            <Route exact path="/">
                                <HomePage language={language} />
                            </Route>
                            <Route exact path="/blogs">
                                <BlogsPage />
                            </Route>
                            <Route path="/blogs/:blogId">
                                <BlogDetail />
                            </Route>
                            <Route path="/movies">
                                <MoviesPage />
                            </Route>
                            <Route path="/iptv">
                                <IPTVPage />
                            </Route>
                        </Switch>
                    </div>

                    {/* Footer */}
                    <footer className="footer mt-auto py-3" style={{ backgroundColor: COLORS.secondary }}>
                        <div className="container text-center">
                            <span className="text-white">© 2024 MimFlix. All Rights Reserved.</span>
                        </div>
                    </footer>
                </div>
            );
        };

        // Other Page Components (simplified)
        const HomePage = ({ language }) => {
            const currentLang = LANG[language];
            return (
                <div className="container mt-4">
                    <h1>{currentLang.welcome}</h1>
                    <p>{currentLang.description}</p>
                </div>
            );
        };

        const MoviesPage = () => {
            return (
                <div className="container mt-4">
                    <h1>Movies</h1>
                    {CONTENT_DATA.movies.map(movie => (
                        <div key={movie.id} className="card mb-3">
                            <div className="card-body">
                                <h5 className="card-title">{movie.title}</h5>
                                <p>Genre: {movie.genre}</p>
                                <p>Rating: {movie.rating}</p>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        const IPTVPage = () => {
            return (
                <div className="container mt-4">
                    <h1>IPTV Channels</h1>
                    <p>Coming Soon...</p>
                </div>
            );
        };

        // Render the App
        ReactDOM.render(
            <BrowserRouter>
                <App />
            </BrowserRouter>, 
            document.getElementById('root')
        );
    </script>

    <style>
        body {
            background-color: #121212;
            color: white;
        }

        .content-section {
            min-height: calc(100vh - 150px);
        }

        .blog-link {
            color: inherit;
            text-decoration: none;
        }

        .blog-link:hover {
            color: #ff4081;
        }

        .filter-section {
            display: flex;
            gap: 15px;
        }

        .navbar-actions {
            display: flex;
            align-items: center;
        }
    </style>
</body>
</html>
